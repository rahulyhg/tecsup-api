<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layouts/default">
<head>
    <title>Template Action</title>
    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/
        $(function(){
            $('#content').autoGrow();
        })
        /*]]>*/
    </script>
</head>
<body>
    <div layout:fragment="content">

        <ol class="breadcrumb">
            <li><a href="" th:href="@{/home/}">Inicio</a></li>
            <li class="active">Gestor de Notificaciones</li>
        </ol>

        <div class="page-header">
            <h2>Gestor de Notificaciones</h2>
        </div>

        <div class="alert alert-success" th:if="${message!=null}" th:text="${message}"></div>

        <form action="" th:action="@{/admin/alerts/save}" method="post">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h2 class="panel-title">Enviar nueva notificación</h2>
                </div>
                <div class="panel-body">

                    <div class="form-group form-inline">
                        <select name="sede" id="sede" class="form-control">
                            <option value="">Todos</option>
                        </select>
                        <select name="formacion" id="formacion" class="form-control">
                            <option value="">Todos</option>
                        </select>
                        <select name="ciclo" id="ciclo" class="form-control">
                            <option value="">Todos</option>
                        </select>
                        <select name="seccion" id="seccion" class="form-control">
                            <option value="">Todos</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <textarea name="content" id="content" cols="30" rows="3" class="form-control"></textarea>
                    </div>

                </div>
                <div class="panel-footer">
                    <input type="submit" value="Enviar" class="btn btn-primary">
                </div>
            </div>
        </form>

        <div class="panel panel-primary">
            <div class="panel-heading">
                <h2 class="panel-title">Notificaciones enviadas</h2>
            </div>
            <table class="table" th:if="${!alerts.empty}">
                <thead>
                    <tr>
                        <th width="64">ID</th>
                        <th>T&iacute;tulo/Contenido</th>
                        <th width="140">Publicado</th>
                        <th width="80"></th>
                        <th width="80"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="a : ${alerts}">
                        <td th:text="${a.id}"></td>
                        <td th:text="${a.content}">
                        <td th:text="${a.date}"></td>
                        <td><a href="#" th:href="@{/admin/alerts/edit/} + ${a.id}" class="btn btn-warning"><i class="glyphicon glyphicon-edit"></i> Editar</a></td>
                        <td><a href="#" th:href="@{/admin/alerts/delete/} + ${a.id}" class="btn btn-danger"><i class="glyphicon glyphicon-trash"></i> Eliminar</a></td>
                    </tr>
                </tbody>
            </table>
            <div class="panel-body" th:if="${alerts.empty}">
                <div class="well text-center">No se encontró ningún registro</div>
            </div>
            <div class="panel-footer"></div>
        </div>

    </div>
</body>
</html>